worker_processes auto;

events {
    worker_connections 1024;
}

pid        run/nginx.pid;

http {

    upstream sidecar {
        server 192.168.1.37:10801;
        server 192.168.1.37:10802;
        server 192.168.1.37:10803;
        server 192.168.1.37:10804;
        server 192.168.1.37:10805;
        server 192.168.1.37:10806;
        server 192.168.1.37:10807;
        server 192.168.1.37:10808;
        server 192.168.1.37:10809;
        server 192.168.1.37:10810;
        server 192.168.1.37:10811;
        server 192.168.1.37:10812;
        server 192.168.1.37:10813;
        server 192.168.1.37:10814;
        server 192.168.1.37:10815;
#        server 192.168.1.37:10816;
#        server 192.168.1.37:10817;
#        server 192.168.1.37:10818;
#        server 192.168.1.37:10819;
#        server 192.168.1.37:10820;
    }
    server {
        listen 10800;
        access_log logs/nginx.access.log;
        error_log  logs/nginx.errors.log;
        location / {
            proxy_pass http://sidecar/;
        }
    }
}
